# US-03: Quản lý danh mục sản phẩm (Categories)

## Bối cảnh
- Epic: Quản lý kho hàng.
- Vai trò: Admin (Quản trị viên).
- Mục tiêu: Tạo và quản lý các nhóm sản phẩm (như Áo thun, Váy, Quần Jeans) để phân loại hàng hóa, giúp người dùng dễ dàng tìm kiếm và hệ thống xử lý logic thử đồ phù hợp.

## Phạm vi
- Xem danh sách toàn bộ danh mục hiện có.
- Thêm mới danh mục (Tên, Mô tả).
- Chỉnh sửa tên/mô tả danh mục.
- Xóa danh mục (có kiểm tra ràng buộc dữ liệu).
- Bắt buộc quyền Admin mới được truy cập.

## Luồng chính (happy path)
- Admin đăng nhập → truy cập trang Quản lý danh mục → client gọi API lấy danh sách → hiển thị bảng dữ liệu.
- Thêm mới: Bấm "Thêm danh mục" → nhập tên (ví dụ: "Áo sơ mi") → bấm Lưu → client gửi API → server tạo record → trả kết quả thành công → UI cập nhật danh sách.
- Chỉnh sửa: Chọn danh mục → sửa tên → bấm Lưu → server cập nhật DB → UI hiển thị thông tin mới.
- Xóa: Bấm nút Xóa → xác nhận dialog → server xóa record → UI loại bỏ dòng tương ứng.

## Luồng lỗi cần xử lý
- Người dùng chưa đăng nhập hoặc không phải Admin (Role != admin) → chặn truy cập, redirect về trang chủ hoặc báo lỗi 403.
- Tên danh mục bị để trống hoặc trùng lặp với danh mục đã có.
- Xóa danh mục đang chứa sản phẩm (Ràng buộc khóa ngoại) → hệ thống chặn và thông báo "Không thể xóa danh mục đang có sản phẩm".
- Lỗi mạng/server → thông báo thân thiện.

## Dữ liệu & validate gợi ý
- Tên danh mục: Chuỗi ký tự, không rỗng, duy nhất (unique), tối đa 50 ký tự.
- Slug (nếu có): Tự động tạo từ tên, viết thường, không dấu, nối bằng gạch ngang (ví dụ: ao-so-mi).

## Acceptance Criteria
- Chỉ tài khoản có quyền Admin mới thực hiện được các thao tác C/R/U/D.
- Danh sách danh mục hiển thị đầy đủ, rõ ràng.
- Thêm mới thành công và hiển thị ngay lập tức.
- Không cho phép trùng tên danh mục.
- Chặn xóa danh mục khi đang có sản phẩm liên kết (đảm bảo toàn vẹn dữ liệu).

## Phi chức năng
- Phản hồi API nhanh (<500ms).
- Giao diện Admin bảng biểu (Table) rõ ràng, có phân trang nếu danh sách quá dài.
- Bảo mật: Kiểm tra quyền (Authorization) chặt chẽ tại Backend.
